From 9f8e3527f9fd4caf866485efe1160118921f6728 Mon Sep 17 00:00:00 2001
From: Naeem Khan <naeem.khan@toradex.com>
Date: Wed, 4 Mar 2020 08:15:20 -0500
Subject: [PATCH] define bootcount related variables to make bootcount work

Related to: TOR-73, 50811

Signed-off-by: Naeem Khan <naeem.khan@toradex.com>
---
 include/configs/apalis_imx6.h     | 5 ++++-
 include/configs/colibri-imx6ull.h | 5 ++++-
 include/configs/colibri_imx6.h    | 5 ++++-
 include/configs/colibri_imx7.h    | 5 ++++-
 4 files changed, 16 insertions(+), 4 deletions(-)

diff --git a/include/configs/apalis_imx6.h b/include/configs/apalis_imx6.h
index db37fa7b73..021d44a6f0 100644
--- a/include/configs/apalis_imx6.h
+++ b/include/configs/apalis_imx6.h
@@ -239,7 +239,10 @@
 	"vidargs=mxc_hdmi.only_cea=1 " \
 		"video=mxcfb0:dev=hdmi,1920x1080M@60,if=RGB24 " \
 		"video=mxcfb1:off video=mxcfb2:off video=mxcfb3:off " \
-		"fbmem=32M\0 "
+		"fbmem=32M\0 " \
+	"bootlimit=3\0" \
+	"upgrade_available=0\0" \
+	"altbootcmd=run bootcmd\0"
 
 /* Miscellaneous configurable options */
 #undef CONFIG_SYS_CBSIZE
diff --git a/include/configs/colibri-imx6ull.h b/include/configs/colibri-imx6ull.h
index e2c31cd4e0..cd85600357 100644
--- a/include/configs/colibri-imx6ull.h
+++ b/include/configs/colibri-imx6ull.h
@@ -124,7 +124,10 @@
 		"${board}/flash_blk.img && source ${loadaddr}\0" \
 	"splashpos=m,m\0" \
 	"videomode=video=ctfb:x:640,y:480,depth:18,pclk:39722,le:48,ri:16,up:33,lo:10,hs:96,vs:2,sync:0,vmode:0\0" \
-	"vidargs=video=mxsfb:640x480M-16@60"
+	"vidargs=video=mxsfb:640x480M-16@60" \
+	"bootlimit=3\0" \
+	"upgrade_available=0\0" \
+	"altbootcmd=run bootcmd\0"
 
 #define CONFIG_SYS_MEMTEST_START	0x80000000
 #define CONFIG_SYS_MEMTEST_END		(CONFIG_SYS_MEMTEST_START + 0x08000000)
diff --git a/include/configs/colibri_imx6.h b/include/configs/colibri_imx6.h
index 86f3f0d4fa..f69a997f57 100644
--- a/include/configs/colibri_imx6.h
+++ b/include/configs/colibri_imx6.h
@@ -217,7 +217,10 @@
 		"source ${loadaddr}\0" \
 	"splashpos=m,m\0" \
 	"vidargs=video=mxcfb0:dev=lcd,640x480M@60,if=RGB666 " \
-		"video=mxcfb1:off fbmem=8M\0 "
+		"video=mxcfb1:off fbmem=8M\0 " \
+	"bootlimit=3\0" \
+	"upgrade_available=0\0" \
+	"altbootcmd=run bootcmd\0"	
 
 /* Miscellaneous configurable options */
 #undef CONFIG_SYS_CBSIZE
diff --git a/include/configs/colibri_imx7.h b/include/configs/colibri_imx7.h
index 5fdf9b04e1..e7d8802864 100644
--- a/include/configs/colibri_imx7.h
+++ b/include/configs/colibri_imx7.h
@@ -175,7 +175,10 @@
 		"${board}/flash_blk.img && source ${loadaddr}\0" \
 	"splashpos=m,m\0" \
 	"videomode=video=ctfb:x:640,y:480,depth:18,pclk:39722,le:48,ri:16,up:33,lo:10,hs:96,vs:2,sync:0,vmode:0\0" \
-	"updlevel=2\0"
+	"updlevel=2\0" \
+	"bootlimit=3\0" \
+	"upgrade_available=0\0" \
+	"altbootcmd=run bootcmd\0"
 
 /* Miscellaneous configurable options */
 
-- 
2.17.1

